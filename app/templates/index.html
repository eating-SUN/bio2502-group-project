<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <!-- Bootstrap CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <meta charset="UTF-8">
    <title>致病性变异分析系统</title>
    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="{{ url_for('static', filename='apple-touch-icon-57x57.png') }}" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="{{ url_for('static', filename='apple-touch-icon-114x114.png') }}" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="{{ url_for('static', filename='apple-touch-icon-72x72.png') }}" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="{{ url_for('static', filename='apple-touch-icon-144x144.png') }}" />
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="{{ url_for('static', filename='apple-touch-icon-60x60.png') }}" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="{{ url_for('static', filename='apple-touch-icon-120x120.png') }}" />
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="{{ url_for('static', filename='apple-touch-icon-76x76.png') }}" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="{{ url_for('static', filename='apple-touch-icon-152x152.png') }}" />
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='favicon-196x196.png') }}" sizes="196x196" />
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='favicon-96x96.png') }}" sizes="96x96" />
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='favicon-32x32.png') }}" sizes="32x32" />
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='favicon-16x16.png') }}" sizes="16x16" />
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='favicon-128.png') }}" sizes="128x128" />
    <meta name="application-name" content="&nbsp;" />
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta name="msapplication-TileImage" content="{{ url_for('static', filename='mstile-144x144.png') }}" />
    <meta name="msapplication-square70x70logo" content="{{ url_for('static', filename='mstile-70x70.png') }}" />
    <meta name="msapplication-square150x150logo" content="{{ url_for('static', filename='mstile-150x150.png') }}" />
    <meta name="msapplication-wide310x150logo" content="{{ url_for('static', filename='mstile-310x150.png') }}" />
    <meta name="msapplication-square310x310logo" content="{{ url_for('static', filename='mstile-310x310.png') }}" />

    <style>

.dna-container {
    width: min(90vw, 600px);  /* 最大宽度600px，小屏自适应 */
    max-height: 50vh;         /* 最大高度50%视口高度 */
    margin: 10px auto;        /* 居中显示 */
    position: relative;
    overflow: hidden;         /* 防止内容溢出 */
}

.dna-container::before {
    content: "";
    display: block;
    padding-top: 100%;            /* 保持1:1比例 */
}

/* 动态调整子容器尺寸 */
.circle-clip {
    width: 50%;
    max-width: 300px;                      
    height: auto;             
    position: absolute;
    border-radius:50%;
    overflow: hidden;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
}


/* 响应式优化 */
@media (max-width: 768px) {
    .dna-container::before {
        padding-top: 75%;         /* 手机端改为4:3比例 */
    }
    
    .circle-clip {
        width: 60%;               /* 放大显示 */
        max-width: none;
    }
}

.rotating-svg {
    width: 100%;
    height: 100%;
    animation: dna-rotate 5s linear infinite;
}

@keyframes dna-rotate {
    0% { transform: translateX(0) rotate(0deg); }
    25% { transform: translateX(0) rotate(20deg); }
    75% { transform: translateX(0) rotate(-20deg); }
    100% { transform: translateX(0) rotate(0deg); }
}


    .research-card {
        background: #F8F9FA;
        border-left: 5px solid #2A5CAA;
    }
    .method-step {
        font-size: 1.5rem;
        color: #2A5CAA;
    }
    </style>
</head>
<body class="bg-light">
        
    <!-- 导航栏 -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="#">致病性变异分析系统</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="{{ url_for('main.index') }}">首页</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('main.upload_page') }}">上传数据</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('main.results_page') }}">分析结果</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('main.results_page') }}">下载报告</a> 
                    </li> 
                </ul>
            </div>
        </div>
    </nav>

<!-- header部分 -->
<header class="py-5 text-center bg-primary text-white">
    <div class="container d-flex flex-column align-items-center gap-4">
        <!-- 文字内容 -->
        <div class="content-group">
            <h1 class="display-4 fw-bold">基因变异分析平台</h1>
            <p class="lead">基于机器学习与生物信息学的致病性预测系统</p>
        </div>

        <!-- DNA动画容器 -->
        <div class="dna-container">
            <div class="circle-clip">
                <svg class="rotating-svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid meet">
                    <image href="{{ url_for('static', filename='img/medical-01.svg' )}}" width="100%" height="100%" />
                </svg>
            </div>
        </div>

        <!-- 按钮 -->
        <div class="button-group mt-3">
            <a href="{{ url_for('main.upload_page') }}" class="btn btn-light btn-lg">开始使用</a>
        </div>
    </div>
</header>
        


    <!-- 研究内容区 -->
    <section id="research" class="py-5">
    <div class="container">
        <h2 class="text-center mb-5">我们的研究</h2>
        <div class="row row-cols-1 row-cols-md-4 g-4">
            <div class="col">
                <div class="card research-card h-100">
                    <div class="card-body text-center">
                        <h5 class="card-title">临床注释</h5>
                        <p class="card-text">整合ClinVar数据库，建立本地注释系统</p>
                        <i class="bi bi-database-fill fs-1 text-primary"></i>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card research-card h-100">
                    <div class="card-body text-center">
                        <h5 class="card-title">机器学习</h5>
                        <p class="card-text">随机森林模型预测变异致病性（AUC&gt;0.8）</p>
                        <i class="bi bi-brain fs-1 text-primary"></i>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card research-card h-100">
                    <div class="card-body text-center">
                        <h5 class="card-title">功能分析</h5>
                        <p class="card-text">蛋白质结构预测与调控区域注释</p>
                        <i class="bi bi-protein fs-1 text-primary"></i>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card research-card h-100">
                    <div class="card-body text-center">
                        <h5 class="card-title">PRS分析</h5>
                        <p class="card-text">整合多处变异预测乳腺癌概率</p>
                        <i class="bi bi-protein fs-1 text-primary"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

    <!-- 使用方法 -->
    <section id="methods" class="py-5 bg-light">
        <div class="container">
            <h2 class="text-center mb-5">使用指南</h2>
            <div class="row text-center">
                <div class="col-md-4 mb-4">
                    <div class="method-step">1</div>
                    <h4><a href="{{ url_for('main.upload_page') }}" class="text-decoration-none">上传数据</a></h4>
                    <p>支持VCF文件和RSid查询</p>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="method-step">2</div>
                    <h4><a href="{{ url_for('main.results_page') }}" class="text-decoration-none">系统分析</a></h4>
                    <p>自动进行注释与致病性预测</p>
                </div>
                <div class="col-md-4 mb-4">
                    <div class="method-step">3</div>
                    <h4><a href="{{ url_for('main.results_page') }}" class="text-decoration-none">下载报告</a></h4>
                    <p>生成PDF格式的完整分析报告</p>
                </div>
            </div>
        </div>
    </section>


    <!-- 版权信息 -->
    <footer class="bg-dark text-white py-4 mt-5">
        <div class="container text-center">
            <div class="row">
                <div class="col-md-6">
                    <h5>研究团队</h5>
                    <p>上海交通大学bio2502课程小组<br>指导老师：吴茂英</p>
                </div>
                <div class="col-md-6">
                    <h5>联系方式</h5>
                    <p>email: contactinfo@sjtu.edu.cn<br>Tel: +86-010-12345678</p>
                </div>
            </div>
            <hr class="bg-light">
            <p class="mb-0">&copy; 2024 致病性变异分析系统</p>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // 初始化导航
        window.onload = navigateTo
    </script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>